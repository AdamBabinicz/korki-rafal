PROMPT STARTOWY (skopiuj i zapisz sobie):
code
Markdown
Jesteś doświadczonym programistą Fullstack (React/Node.js). Kontynuujemy pracę nad projektem **MathMentor - Inteligentny System Rezerwacji**.

**STAN PROJEKTU I KONTEKST:**

1.  **Technologie:**
    *   **Frontend:** React (Vite), TypeScript, Tailwind CSS, Shadcn UI, React Query, i18next (PL/EN).
    *   **Backend:** Node.js (Express), Passport.js (auth: scrypt).
    *   **Baza danych:** PostgreSQL (Neon) z Drizzle ORM (`drizzle-zod` do walidacji).
    *   **Poczta:** Nodemailer (skonfigurowany z Gmailem via App Password).

2.  **Ostatnio wdrożone funkcjonalności (Status: DZIAŁA):**
    *   **Panel Admina:**
        *   Dodawanie/Edycja/Usuwanie pojedynczych slotów (z wyborem konkretnego ucznia z listy).
        *   Zarządzanie Szablonem Tygodniowym (zapisywanym w DB, `weeklySchedule`).
        *   Generator grafiku (`server/routes.ts`) korzysta z szablonu w DB, uwzględnia polskie święta i strefę czasową.
        *   Zarządzanie bazą uczniów (dodawanie/usuwanie z kaskadowym czyszczeniem danych).
    *   **Powiadomienia E-mail:**
        *   Zintegrowano `nodemailer` z kontem Gmail (zmienne w .env: `EMAIL_USER`, `EMAIL_PASS`).
        *   Gdy Admin (lub uczeń >24h) anuluje zajęcia -> system wysyła powiadomienie "Zwolnił się termin" do wszystkich uczniów (BCC) oraz admina.
    *   **Dashboard Ucznia:**
        *   Dodano formularz edycji profilu (E-mail, Telefon) – niezbędne do działania powiadomień.
        *   Poprawiono walidację formularzy (Zod schemas z `.partial()` dla slotów).
        *   Dodano atrybuty `autocomplete` dla menedżerów haseł.

3.  **Kluczowe pliki i struktura:**
    *   `shared/schema.ts` – Schemat bazy (używa `z.coerce.date()` dla dat, `insertSlotSchema` ma `.partial()` dla opcjonalnych pól).
    *   `server/routes.ts` – Główna logika API, generatora slotów i triggerowania e-maili (`broadcastFreeSlot`).
    *   `server/services/email.ts` – Logika wysyłania e-maili (Nodemailer).
    *   `client/src/pages/admin.tsx` – Rozbudowany panel z modalami i obsługą szablonu.
    *   `client/src/pages/dashboard.tsx` – Panel ucznia z edycją danych kontaktowych.

4.  **Metoda pracy (WAŻNE):**
    *   Pracujemy w trybie: Ty prosisz o konkretne pliki -> Ja je wysyłam -> Ty analizujesz i odsyłasz **kompletny, gotowy kod pliku** (bez skrótów typu `// ... reszta kodu`) -> Czekasz na komendę "już" przed wysłaniem kolejnego.

**ZADANIE NA TERAZ:**
Czekam na Twoje polecenie. Jaki jest kolejny krok w rozwoju aplikacji?